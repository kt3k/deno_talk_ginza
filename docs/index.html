<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    
    <style type="text/css">
      body {
  font-family: 'Avenir Next', 'Hiragino Kaku Gothic ProN', 'Meiryo', 'ãƒ¡ã‚¤ãƒªã‚ª', sans-serif;
  font-weight: bold;
}
h1, h2, h3 {
  font-weight: bold;
}
.remark-code,
.remark-inline-code {
  font-family: 'Menlo', 'Monaco', 'Courier new', monospace;
}

code.remark-code {
  display: block;
  padding: 0.7em;
  border-radius: 5px;
  background-color: #272822;
  color: #f3f3f3;
  font-size: 23px;
}

.remark-slide-content {
  color: #24292e;
  font-size: 32px;
  padding: 15px 60px;
}

.remark-slide-content.inverse {
  color: #f3f3f3;
  background-color: #272822;
}

.remark-slide-number a {
  color: #24292e;
  text-decoration: none;
}

.inverse .remark-slide-number a {
  color: #f3f3f3;
}

    </style>
  </head>
  <body>
    <textarea id="source">class: middle, center

<img src="./assets/deno_logo_3.svg" align="center" width="300" />

# Deno (ã§ã®) ã®è©±

---

class: middle, center

# ğŸ¦• Deno èã„ãŸã“ã¨ã‚ã‚‹äºº
# ğŸ™‹â€â™€ï¸ ğŸ™‹â€â™‚ï¸

---

class: middle, center

# ğŸ¦• Deno ä½¿ã£ãŸã“ã¨ã‚ã‚‹äºº
# ğŸ™‹â€â™€ï¸ ğŸ™‹â€â™‚ï¸

---
class: middle, center

<img src="./assets/deno_logo_3.svg" width="300" />

# Deno (ã§ã®) ã®è©±

---
class: center
è‡ªå·±ç´¹ä»‹: æ—¥é‡æ¾¤ (ã²ã®ã•ã‚)

# kt3k (twitter, github, ...)

ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢<br />
ä»Šã¯ãƒ­ãƒœãƒƒãƒˆã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ— SEQSENSE å‹¤å‹™<br />
(TS, Go, ROS ã§ãã‚‹äººå‹Ÿé›†ä¸­! ã‚ªãƒ•ã‚£ã‚¹: æ—¥æ¯”è°·)

<img src="./assets/hino-izu.jpg" align="center" height="200" />
<img src="./assets/sq-2a.png" align="center" height="200" />
<img src="./assets/sq-2b.png" align="center" height="200" />

---

# Deno (ã§ã®) ã¨ã¯

- 2018å¹´6æœˆã«ç™ºè¡¨ã•ã‚ŒãŸ JavaScriptã¨**TypeScript** ã®å®Ÿè¡Œç’°å¢ƒ
  - Node.js ã¿ãŸã„ãªã‚‚ã® (ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ JS)
  - ä½œè€…ã¯ Node.js ã®ä½œè€… ãƒ©ã‚¤ã‚¢ãƒ³ãƒ»ãƒ€ãƒ¼ãƒ«
  - ä½œè€…ç‹¬è‡ªã®è¦–ç‚¹ã§ Node ã‚’æ”¹è‰¯ã—ãŸã‚‚ã®

<p style="text-align: center">
<img src="./assets/ryan.jpg" align="center" height="200" />
</p>

---
class: middle, center

# Node.js ã¨ã®é•ã„

---
class: middle

# Node.js ã¨ã®é•ã„

- require vs import
- Security
- TypeScript
- å®Ÿè£…ã«ã¤ã„ã¦
- æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¤ã„ã¦

---
class: middle, center

# require ã¨ import ãŒé•ã†



---
# import

- Node ã¯ import ã‚’ç¾åœ¨å®Ÿè£…ä¸­
  - .mjs æ‹¡å¼µå­, package.json ã® type: 'module' ãªã©ã®ãƒ¡ã‚¿æƒ…å ±ã§ module vs script ã®åŒºåˆ¥ã‚’ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹.
  - => ãªã‹ãªã‹ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œãªã„, ãƒ–ãƒ©ã‚¦ã‚¶éäº’æ›
  - transpiler ã® import ã¯ã¾ãŸåˆ¥ã®ä»•æ§˜ => éå¸¸ã«è¤‡é›‘
- Node ã® import ã¯ã‹ãªã‚Šè¤‡é›‘

---
# import

- Deno ã¯ import (ES Module) ã—ã‹ç„¡ã„.
- npm ãŒä½¿ãˆãªã„ã¨ã„ã†ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¯ã‚ã‚‹ã‚‚ã®ã®, ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›ã® import ãªã®ã§, ãƒ–ãƒ©ã‚¦ã‚¶å‘ã‘ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãã®ã¾ã¾ä½¿ãˆã‚‹ ä¾‹: date-fns
- è‰¯ã„ã¨ã“ã‚:
  - cjs <-> mjs ç›¸äº’é‹ç”¨ã‚’è€ƒãˆãªãã¦ã‚ˆã„.
  - ä¼šç¤¾ã¨ã—ã¦ã® npm inc. ã¸ã®ä¾å­˜ãŒãªã„.

---
# import

- Deno ã¯ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›ã® import ã‚’æŒã£ã¦ã„ã‚‹ã®ã§, date-fns ã® es module ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç›´æ¥ä½¿ã†ã“ã¨ãŒã§ãã‚‹. (URL ã‚’ç›´æ¥ import ã§ãã‚‹)

```js
import {
  parseDate
} from 'https://deno.land/x/date-fns/index.js'

console.log(toDate('2014-02-11T11:30:30'))
//=> Tue Feb 11 2014 11:30:30
```

---
class: middle, center

# Security

---
# Deno ã® Security

- Deno ã¯ Node.js ã¨åŒæ§˜ã« V8 ãƒ™ãƒ¼ã‚¹
- V8 = ãƒ–ãƒ©ã‚¦ã‚¶ã® JS ã‚¨ãƒ³ã‚¸ãƒ³
  - ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ç’°å¢ƒã«ãªã£ã¦ã„ã‚‹
  - => V8 ã®ä¸­ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒå®¹æ˜“ã«å¤–éƒ¨ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚ˆã†ãªä»•çµ„ã¿ã«ãªã£ã¦ã„ã‚‹

---
# Deno ã® Security

- Node ã§ã¯ç´ æœ´ã« OS ã®æ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ Native æ‹¡å¼µã‚’ V8 ã«å…¥ã‚ŒãŸ.
  - => ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã§ã¯ãªããªã£ãŸ
  - => ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã®é¡•åœ¨åŒ– (event-stream äº‹ä»¶ eslint-scope äº‹ä»¶, etc)

---
# Deno ã® Security
- Deno ã¯ V8 ã®ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹æ©Ÿèƒ½ã‚’æ´»ç”¨
  - => ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã«ã¯å…¨ã¦è¨±å¯åˆ¶ ex. read, write, net, env, etc
  - => æ„å›³ã—ãªã„ä¸æ­£æ“ä½œã‚’ã•ã‚Œã«ãããªã£ãŸ

---
# Deno ã® Security

```
deno --allow-read foo.ts
```

â†‘ Read ã—ã‹ã§ããªã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œä¾‹

- foo.ts ã®ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«æ”»æ’ƒã‚³ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ãŸã¨ã—ã¦ã‚‚ foo.ts ã¯çµ¶å¯¾ã«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã¯å‡ºæ¥ãªã„. => eslint-scope äº‹ä»¶ã®ã‚ˆã†ãªã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆãŒãã‚‚ãã‚‚æˆç«‹ã—ãªã„

---
class: middle, center
# TypeScript

---
# Node ã® TypeScript

- Node ã®ä¸–ç•Œã§ã¯ TypeScript ã¯ã‚ãã¾ã§ Opt in
  - @types ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã‚ã£ãŸã‚Šç„¡ã‹ã£ãŸã‚Š
  - @types ãŒã‚ã£ã¦ã‚‚ãƒã‚°ã£ã¦ã„ãŸã‚Š
  - npm ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒã‚ãŒã£ãŸã‘ã© @types ãŒæ›´æ–°ã•ã‚Œãªã„ã®ã§ä½¿ãˆãªã‹ã£ãŸã‚Š

TypeScript ãŒ opt-in ã§ã‚ã‚‹ã“ã¨ã«ã‚ˆã‚‹å¼Šå®³ãŒã„ã‚ã„ã‚ã‚ã‚‹

---
# TypeScript opt-in ã®å¼Šå®³

- åŒåƒšã«å…¨éƒ¨ any ã«ã•ã‚Œã‚‹
- any ã¯å˜˜ => ç‚ä¸Š

---
class: middle, center
æœ€åˆã‹ã‚‰å…¨éƒ¨ TypeScript ã§å‡ºæ¥ã¦ã„ã‚Œã°ã‚ˆã‹ã£ãŸã®ã«ãƒ»ãƒ»ãƒ»

---
# Deno ã® TypeScript

- Deno ã¯å‡¦ç†ç³»ã« TypeScript ãŒå…¥ã£ã¦ã„ã‚‹.
  - æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚å…¨ã¦ TypeScript ã§æ›¸ã‹ã‚Œã¦ã„ã‚‹.
  - æ ¹ã£ã“ã‹ã‚‰å…¨ã¦ã«å‹ãŒå…¥ã£ãŸçŠ¶æ…‹
  - ç¾çŠ¶ã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¯ã¾ã ã¾ã å°ã•ã„ãŒ, ä»Šå¾Œã‚‚å…¨ã¦ TypeScript ã§å®Ÿè£…ã•ã‚Œã¦ã„ããã†ãªè¦‹è¾¼ã¿.

---
class: middle, center
# å®Ÿè£…ã®é•ã„

---
# Node
- C++, ç”ŸJavaScript

# Deno
- Rust, TypeScript

---
# Node
- C++, ç”ŸJavaScript

# Deno
- Rust, TypeScript (å„ªå‹ ğŸ‰)

---
class: middle, center
# è¨€èªã®ã‚«ãƒãƒ¼ç¯„å›²ã«å¯¾ã™ã‚‹
# è€ƒãˆæ–¹ã®é•ã„

---
# Node

- ã‚¹ãƒ¢ãƒ¼ãƒ«ã‚³ã‚¢ã¨ã„ã†è€ƒãˆæ–¹
- Node è‡ªä½“ã¯æœ¬å½“ã«æœ€å°é™ã®æ©Ÿèƒ½ã—ã‹å®Ÿè£…ã—ãªã„
- ä»–ã®å…¨ã¦ã®æ©Ÿèƒ½ã¯ npm ã«å§”è­²ã™ã‚‹
  - left-pad ã¿ãŸã„ãªãƒã‚¤ã‚¯ãƒ­ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¤§é‡ç™ºç”Ÿ
  - => è‰¯ã„ã¨ã“ã‚ã¨æ‚ªã„ã¨ã“ã‚ãŒã‚ã‚‹

---
# Node ã‚¹ãƒ¢ãƒ¼ãƒ«ã‚³ã‚¢

- è‰¯ã„ç‚¹
  - æ¨™æº–æ©Ÿèƒ½ãŒç„¡ã„ã®ã§, èª°ã‹ãŒæ¨™æº–æ©Ÿèƒ½ã‚’ä½œã‚‹
  - æ¨™æº–æ©Ÿèƒ½ãŒé€²åŒ–ã—ã¦ã„ã
  - jslint -> jshint -> eslint ğŸ‰
  - superagent -> axios -> ky

---
class: middle
# Node ã‚¹ãƒ¢ãƒ¼ãƒ«ã‚³ã‚¢
- æ‚ªã„ç‚¹
  - æ¨™æº–æ©Ÿèƒ½ / å°ã•ãªæ©Ÿèƒ½ã®ä¹±ç«‹
  - ä¾å­˜é–¢ä¿‚ãŒæ·±ããªã‚‹
  - ä¾å­˜ã®å…¨ä½“ãŒå·¨å¤§ã«ãªã‚ŠãŒã¡ => æ™‚é–“ãŒçµŒã£ã¦ç‰¹ã«å·¨å¤§ã•ãŒé¡•è‘—ã«ãªã£ã¦ããŸ

<img src="./assets/node_modules.jpg" align="center" width="350"/>

---
# Python

- Batteries Included ã¨ã„ã†è€ƒãˆæ–¹
- => ç¿»è¨³ã™ã‚‹ã¨ã€Œé›»æ± å…¥ã£ã¦ã‚‹ã€
- åŸºæœ¬çš„ãªã“ã¨ã¯ã ã„ãŸã„æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹

---
# Deno ã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

- Deno ã¯ Node ã¨ã¯é•ã„ Batteries Included å¿—å‘
- Deno ã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ Go è¨€èªã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚«ãƒãƒ¼ç¯„å›²ã‚’ã‚«ãƒãƒ¼ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹.
  - => ãƒã‚¤ã‚¯ãƒ­ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¹±ç«‹ã‚’é˜²ãåŠ¹æœãŒæœŸå¾…ã§ãã‚‹

=> No more å·¨å¤§ä¾å­˜!!

---
# ã¾ã¨ã‚

- Deno ã¯ import ãŒç¶ºéº—
- Deno ã¯ Security ãŒã™ã”ã„
- Deno ã¯ TypeScript å…¥ã£ã¦ã‚‹
- Deno ã¯å®Ÿè£…ãŒè‰¯ã„
- Deno ã¯å¤§ãã„æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå¿—å‘
</textarea>
    <script src="remark.js"></script>
    
    <script>
      window.slideshow = remark.create({"slideNumberFormat":"#ginzajs #5 @kt3k - %current% / %total%"})
    </script>
    <script>
      
      ;window.LiveReloadOptions = {
        host: 'localhost',
        port: '35729'
      };
    </script>
  </body>
</html>
